<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Solution Architecture (markitdown edited) - TWDocs</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Solution Architecture (markitdown edited)";
        var mkdocs_page_input_path = "BookStackSA.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> TWDocs
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Systems</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" >BookStack</a>
    <ul class="current">
                <li class="toctree-l2 current"><a class="reference internal current" href="#">Solution Architecture (markitdown edited)</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#document-control">Document Control</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#revision-history">Revision History</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#document-review-and-approval">Document Review and Approval</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#acronyms">Acronyms</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#references">References</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#introduction">Introduction</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#document-purpose">Document Purpose</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#solution-overview">Solution Overview</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#architecture-overview">Architecture Overview</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#data-flow-description">Data flow description:</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#responsibility-matrix">Responsibility Matrix</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#configuration">Configuration</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#app">App</a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../BookStackSM/">Support Model (markitdown raw)</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >EStaff</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../E-StaffSA/">Solution Architecture (pandoc raw)</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">TWDocs</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Systems</li>
          <li class="breadcrumb-item">BookStack</li>
      <li class="breadcrumb-item active">Solution Architecture (markitdown edited)</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="bookstack-solution-architecture">BookStack <br> Solution Architecture</h1>
<p>November 2024</p>
<h3 id="document-control">Document Control</h3>
<h4 id="revision-history">Revision History</h4>
<table>
<thead>
<tr>
<th>Version</th>
<th>Author</th>
<th>Date (dd/mm/yyyy)</th>
<th>Summary of change</th>
</tr>
</thead>
<tbody>
<tr>
<td>1.0</td>
<td>Ivan Ivanov</td>
<td>24.11.2024</td>
<td>Initial version</td>
</tr>
<tr>
<td>1.1</td>
<td>Ivan Ivanov</td>
<td>27.12.2024</td>
<td>Updated architecture overview (section 2.5)</td>
</tr>
</tbody>
</table>
<h4 id="document-review-and-approval">Document Review and Approval</h4>
<table>
<thead>
<tr>
<th>Version</th>
<th>Approved by</th>
<th>Date (dd/mm/yyyy)</th>
</tr>
</thead>
<tbody>
<tr>
<td>1.0</td>
<td>Petr Petrov</td>
<td>22.11.2024</td>
</tr>
<tr>
<td>1.1</td>
<td>Petr Petrov</td>
<td>23.12.2024</td>
</tr>
</tbody>
</table>
<h4 id="acronyms">Acronyms</h4>
<table>
<thead>
<tr>
<th>Acronym</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>ADFS</td>
<td>Active Directory Federation Service</td>
</tr>
</tbody>
</table>
<h4 id="references">References</h4>
<table>
<thead>
<tr>
<th>Item no.</th>
<th>Document title</th>
<th>Version or date</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><a href="https://github.com/BookStackApp/BookStack/blob/development/readme.md">Source repository README</a></td>
<td>Managed by vendor</td>
</tr>
<tr>
<td>2</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="introduction">Introduction</h3>
<h4 id="document-purpose">Document Purpose</h4>
<p>The document is intended as a reference for system administrators and support engineers in charge of the system deployment and maintenance.</p>
<h4 id="solution-overview">Solution Overview</h4>
<p>BookStack is an opinionated documentation platform that provides a pleasant and simple out-of-the-box experience. New users to an instance should find the experience intuitive and only basic word-processing skills should be required to get involved in creating content on BookStack. The platform should provide advanced power features to those that desire it, but they should not interfere with the core simple user experience.</p>
<p>The BookStack source is provided under the <a href="https://github.com/BookStackApp/BookStack/blob/development/LICENSE">MIT License</a>.</p>
<p>The libraries used by, and included with, BookStack are provided under their own licenses and copyright. The licenses for many of our core dependencies can be found in the attribution list below but this is not an exhaustive list of all projects used within BookStack.</p>
<h4 id="architecture-overview">Architecture Overview</h4>
<p><img alt="Screenshot" src="../img/BookStack_Overview.png" /></p>
<h4 id="data-flow-description">Data flow description:</h4>
<table>
<thead>
<tr>
<th>Data flow</th>
<th>Source</th>
<th>Destination</th>
<th>Schedule</th>
</tr>
</thead>
<tbody>
<tr>
<td>User interaction</td>
<td>User</td>
<td>BookStack</td>
<td>On user query</td>
</tr>
<tr>
<td>User interaction</td>
<td>BookStack</td>
<td>User</td>
<td>On user query</td>
</tr>
<tr>
<td>Authentication</td>
<td>User</td>
<td>ADFS</td>
<td>On user query</td>
</tr>
<tr>
<td>Authentication</td>
<td>ADFS</td>
<td>User</td>
<td>On user query</td>
</tr>
</tbody>
</table>
<h4 id="responsibility-matrix">Responsibility Matrix</h4>
<table>
<thead>
<tr>
<th>System</th>
<th>Vendor</th>
<th>Administrator</th>
</tr>
</thead>
<tbody>
<tr>
<td>BookStack</td>
<td>BookStack</td>
<td>Ivan Ivanov</td>
</tr>
<tr>
<td>ADFS</td>
<td>Microsoft</td>
<td>Sergey Sergeev</td>
</tr>
</tbody>
</table>
<h3 id="configuration">Configuration</h3>
<h4 id="app">App</h4>
<h5 id="docker-composeyml">Docker-compose.yml</h5>
<pre><code># This is a Docker Compose configuration
# intended for development purposes only

volumes:
  db: {}

services:
  db:
    image: mysql:8.4
    environment:
      MYSQL_DATABASE: bookstack-dev
      MYSQL_USER: bookstack-test
      MYSQL_PASSWORD: bookstack-test
      MYSQL_RANDOM_ROOT_PASSWORD: 'true'
    volumes:
      - ./dev/docker/init.db:/docker-entrypoint-initdb.d
      - db:/var/lib/mysql
  app:
    build:
      context: .
      dockerfile: ./dev/docker/Dockerfile
    environment:
      APP_URL: http://localhost:${DEV_PORT:-8080}
      DB_CONNECTION: mysql
      DB_HOST: db
      DB_PORT: 3306
      DB_DATABASE: bookstack-dev
      DB_USERNAME: bookstack-test
      DB_PASSWORD: bookstack-test
      TEST_DATABASE_URL: mysql://bookstack-test:bookstack-test@db/bookstack-test
      MAIL_DRIVER: smtp
      MAIL_HOST: mailhog
      MAIL_PORT: 1025
    ports:
      - ${DEV_PORT:-8080}:80
    volumes:
      - ./:/app
      - ./dev/docker/php/conf.d/xdebug.ini:/usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini
    entrypoint: /app/dev/docker/entrypoint.app.sh
    extra_hosts:
    - &quot;host.docker.internal:host-gateway&quot;
  node:
    image: node:22-alpine
    working_dir: /app
    user: node
    volumes:
      - ./:/app
    entrypoint: /app/dev/docker/entrypoint.node.sh
  mailhog:
    image: mailhog/mailhog
    ports:
      - ${DEV_MAIL_PORT:-8025}:8025
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href=".." class="btn btn-neutral float-left" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../BookStackSM/" class="btn btn-neutral float-right" title="Support Model (markitdown raw)">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href=".." style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../BookStackSM/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
